syntax = "proto3";

option csharp_namespace = "GrpcMessage";

package message;

service Message {
  rpc GetMessage (GetMessageRequest) returns (GetMessageResponse);
  rpc SendMessage (SendMessageRequest) returns (SendMessageResponse);
  rpc GetAllMessages(GetAllMessagesRequest) returns (stream GetAllMessagesResponse);
}
  
message GetAllMessagesRequest {}

message GetAllMessagesResponse
{
    int64 id = 1;
    string from = 2;
    string to = 3;
    string message = 4;
}

message GetMessageRequest 
{
    int64 id = 1;
}

message GetMessageResponse
{
    GetAllMessagesResponse response = 1;
}

message SendMessageRequest 
{
    int64 id = 1;
    string from = 2;
    string to = 3;
    string message = 4;
}

message SendMessageResponse
{
    int64 id = 1;
}

